<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ポートフォリオ megumi Lab</title>
    
    <!-- SEOメタタグ -->
    <meta name="description" content="megumi Labのポートフォリオサイトです。Web制作、JavaScript、デザインなどのスキルを紹介しています。">
    <meta name="keywords" content="ポートフォリオ, Web制作, JavaScript, デザイン, megumi Lab">
    <meta name="author" content="megumi Lab">
    
    <!-- Open Graph メタタグ -->
    <meta property="og:title" content="ポートフォリオ megumi Lab">
    <meta property="og:description" content="megumi Labのポートフォリオサイトです。Web制作、JavaScript、デザインなどのスキルを紹介しています。">
    <meta property="og:image" content="https://meccin5678.github.io/portfolio/img/trip.jpg">
    <meta property="og:url" content="https://meccin5678.github.io/portfolio/index.html">
    <meta property="og:type" content="website">
    
    <!-- Twitterカード メタタグ -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="ポートフォリオ megumi Lab">
    <meta name="twitter:description" content="megumi Labのポートフォリオサイトです。Web制作、JavaScript、デザインなどのスキルを紹介しています。">
    <meta name="twitter:image" content="https://meccin5678.github.io/portfolio/img/trip.jpg">
    
    <!-- CSSファイルの読み込み -->
    <link rel="stylesheet" href="../reset.css">
    <link rel="stylesheet" href="../style.css">

    <!-- JavaScriptファイルの読み込み -->
    <script src="nav.js" defer></script>

    <!-- Googleタグマネージャー -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-8R8H0HG7H0"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-8R8H0HG7H0');
    </script>
</head>
<body>
<style>
.zip{
width: 70%;
}
.zipform{
background-color: #e2e2e2;
border: none;
padding:20px;
width: 100%;
margin: auto;
}

.zipform input{
display: block;
border: none;

background-color: #ffffff;
width: 100%;
height: 3rem;
padding:10px;
margin-bottom: 2rem;
}
.zipform label{
padding: 10px;
line-height: 2rem;
}
@media (max-width: 800px) {
    .zip{
        width: 100%;
    }
}
</style>
<header>
    <p class="top"><a href="swiper2.html">JavaScriptサンプル集</a></p>
    <div class="hmb" id="hmb">
        <span></span>
        <span></span>
        <span></span>
    </div> 
</header>

<aside>
<!-- nav.htmlの内容が表示される -->
</aside>
<main>
<section>
    <h2>郵便番号API</h2>
    <p>郵便番号を入力すると、都道府県、市町村、町名が自動入力されます</p>
</section>
<section>
    <div class="zip">
        <form action="" name="zipform" class="zipform">
            <label for="zipcode">郵便番号</label>
            <input type="number" id="zipcode" name="zipcode" placeholder="7桁の郵便番号">

            <label for="prefecture">都道府県</label>
            <input type="text" id="json()" name="prefecture" placeholder="都道府県">

            <label for="city">市町村</label>
            <input type="text" id="city" name="city" placeholder="市町村">

            <label for="town">町名以下</label>
            <input type="text" id="town" name="town" placeholder="町名など">
        </form>
    </div>    
</section>
</main>
<footer>
    <p>&copy; 2023 megumi Lab. All rights reserved.</p>
</footer>   
    
<script>
const zipForm = document.forms.zipform;

zipForm.zipcode.addEventListener('input', (event) => {

    if(event.target.value.length === 7){
        fetch(`https://zipcloud.ibsnet.co.jp/api/search?zipcode=${event.target.value}`)
        
        .then(response => response.json())
        .then((data) => {
            zipForm.prefecture.value = data.results[0].address1;
            zipForm.city.value = data.results[0].address2;
            zipForm.town.value = data.results[0].address3;

        })
        .catch(error => console.log(error))
    }
});
</script> 
</body>
</html>